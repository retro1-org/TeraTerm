<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
  "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
    <title>Tera Term 5 へ移行</title>
    <META http-equiv="Content-Style-Type" content="text/css">
    <link rel="stylesheet" href="../style.css" type="text/css">
  </head>

  <body>
    <h1>Tera Term 5 について</h1>
    <ul>
      <li>Tera Term 5 は Tera Term 4 の Unicode化を進めた次のバージョンです。</li>
      <ul>
        <li>ターミナル(内部バッファ、描画、キー入力)のUnicode化
        <li>Windows UI(メニュー、ダイアログ)のUnicode化
        <li>その他Windows APIのUnicode版への切り替え(ファイル名など)
      </ul>
      <li>Windows 10, 11をターゲットにしています。</li>
      <li>特徴などは<a href="https://osdn.net/projects/ttssh2/wiki/UNICODE">Unicode化基本方針</a>を参照ください。</li>
    </ul>

    <h1>Tera Term 5 へ移行</h1>

    <ul>
      <li>Tera Term 4 と同居することができます。</li>
      <li>設定ファイルはTera Term 4用をそのまま使用できます。</li>
      <ul>
        <li>TERATERM.INI,KEYBOARD.CFGはUnicode対応となりました。</li>
        <ul>
          <li>cygterm.cfgは対応していません。</li>
        </ul>
        <li>Windows 10,11(2000から?)ではiniファイルをUnicode化することができます。</li>
        <li>Unicode化したiniファイルの文字コードはUTF-16 (with LE BOM)です。</li>
        <li>Tera Term 4 ではUnicode版APIを使用していないため、Shift_JISで表現できない文字が含まれていると、その項目は正しく扱えませんでした。</li>
        <li>Tera Term 5 は起動時にiniファイルの文字コードを自動的にUnicodeに変換します。</li>
        <li>変換前のファイルはバックアップされています。</li>
      </ul>
      <li>設定ファイルのデフォルトフォルダが変更されました。</li>
      <ul>
        <li>%APPDATA%\teraterm5\</li>
        <li>Tera Term 4 の設定ファイルをコピーしてください。</li>
        <ul>
          <li>TERATERM.INI</li>
          <li>KEYBOARD.CNF</li>
          <li>cygterm.cfg</li>
        </ul>
        <li>ファイルがない場合、ttermpro.exe起動時にデフォルトの設定ファイルがコピーされます。</li>
        <li>4のときは実行ファイルと同じフォルダ(またはVirtual Store)でした。</li>
        <li><a href="../setup/folder.md">フォルダについて (現在は Windows 10(11)で動作テストしています)</a></li>
      </ul>
    </ul>

    <h1>Tera Term 5 へ移行(plugin)</h1>

    <ul>
      <li>compat_w95.hは不要となりました。</li>
      <ul>
        <li><a href="https://osdn.net/projects/ttssh2/scm/svn/commits/9129">r9239</a></li>
      </ul>
      <li>plugin APIを変更しました。</li>
      <ul>
        <li>ファイル名がUnicode (型が char から wchar_t) になりました。</li>
        <li><a href="https://osdn.net/projects/ttssh2/svn/view/trunk/teraterm/teraterm/ttsetup.h?view=markup&root=ttssh2#l44">trunk/teraterm/ttsetup.h</a></li>
        <li><a href="https://osdn.net/projects/ttssh2/svn/view/branches/4-stable/teraterm/teraterm/ttsetup.h?view=markup&root=ttssh2#l39">4-stable/teraterm/ttsetup.h</a></li>
      </ul>
      <li>iniファイル読み書き共通関数を追加しました。</li>
      <ul>
        <li>ファイル名だけをUnicode化して従来と同じ動作をする関数を準備。</li>
        <li><a href="https://osdn.net/projects/ttssh2/svn/view/trunk/teraterm/common/inifile_com.h?view=markup&root=ttssh2">trunk/teraterm/common/inifile_com.h</a></li>
      </ul>
      <li>struct tttset (tttypes.h) のメンバを変更しました。</li>
      <ul>
        <li>ファイル名、パス、文字列のメンバには、WがついたUnicode版のメンバが追加。</li>
        <li>ファイル名、パスの文字数はMAX_PATH文字以上になることを考慮。</li>
        <li>まだ変化する予定(メンバ名、順序、サイズ、型などなど)。</li>
      </ul>
    </ul>

  </body>
</html>
